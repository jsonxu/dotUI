<!DOCTYPE html>
<html lang="en">
<head>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>前端规范</title>
    <link href="/markdown/style/mk1.css" media="all" rel="stylesheet" type="text/css" />
    <link href="/markdown/style/mk2.css" media="all" rel="stylesheet" type="text/css" />
    <link href="/markdown/style/zTreeStyle/zTreeStyle.css" media="all" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="all" />


</head>
<body>
    <div class="markdown_wraper">
        <div class="side_nav">
            <ul id="tree" class="ztree" style='width:100%'></ul>
        </div>
        <div id="readme">
            <article class='markdown-body'>
<!--
<h1>HTML和CSS设计模式</h1>
<h2>起源</h2>
<p>先来说说什么是设计模式，百度百科上有如下一段解释：</p>
<p>设计模式（Design pattern）是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。 毫无疑问，设计模式于己于他人于系统都是多赢的；设计模式使代码编制真正工程化；设计模式是软件工程的基石脉络，如同大厦的结构一样。</p>
<p>虽然HTML和CSS是一种弱逻辑性的语言，但是也应该像高级编程语言一样遵循一定的规律和方法，使代码保持健壮性、可拓展性、可读性和可维护性。</p>
<p>本文档的设计模式是为本公司项目所设计，请严格遵循这种编码的思想，如有意见和建议请向本文档的作者提出并修订。</p>

<h2>模块化</h2>
<h2>元件化</h2>
<h2>组件化</h2>
<h2>栅格化</h2>
<h2>主题化</h2>
<h2>语义化</h2>
-->
<h1>浏览器兼容性规范</h1>
<h2>前端工程师自测标准</h2>
<p>PC端: IE7,IE8,IE9,IE10,IE11及以上，Chrome，Safari，FIREFOX</p>
<p>移动端: ios默认，android默认，QQ Browser，UC</p>
<h2>测试工程师测试标准</h2>
<p>Pc端: IE7,IE8,IE9,IE10,IE11及以上，Chrome，Safari，FIREFOX, LB  BROWSER （猎豹）,UC  WEB ,奇虎360安全浏览器</p>
<p>移动端: ios默认，android默认，QQ Browser，UC</p>
<blockquote>以上都兼容最新版本，及用户数大的版本，ie，uc系列保证基础功能，平稳退化。</blockquote>
<h3>注意事项：</h3>
<ol>
    <li>LB  BROWSER （猎豹）,UC  WEB , 奇虎360安全浏览器，由于是不同公司内嵌主流内核浏览器，可能会有部分功能的差异，不在前端的自测范围内，但由于访问用户数较多，有问题可排查，保证基础功能。测试会按需检查，保证功能稳定。</li>
    <li>产品及运营如有对其他版本的浏览器要求，需在PRD中浏览器兼容性里说明，否则按此常规标准开发及测试。</li>
    <li>一账通登录,注册及网银功能区,需兼容ie6。新版本做好文案引导提示或升级提示。做好优雅降级处理。</li>
</ol> 
<h1>HTML规范</h1>

<h2>DOCTYPE</h2>
<p><b>统一使用HTML5标准文档模型 <code>&lt;!DOCTYPE html&gt;</code></b></p>
<blockquote>在DOCTYPE文档声明代码前不要加任何代码或空格，以免文档进入其他模式</blockquote>

<h2>通用HTML模板</h2>
<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;页面标题&lt;/title&gt;
    &lt;meta name="description" content="网页简介和说明"/&gt;
    &lt;meta name="keywords" content="网页关键词"/&gt;
    &lt;meta name="author" content="网站名/机构名" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="renderer" content="webkit"&gt;
    &lt;link rel="stylesheet" href="xxx.css"/&gt;
&lt;/head&gt;
&lt;body&gt;


&lt;script src="xxx.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<h2>HTML文档编码格式</h2>
<p>统一使用UTF-8编码格式</p>

<h2>CSS和javascript代码和文件</h2>
<ul>
    <li>
        <p>严格做到结构、表现、行为分离的准则，CSS和JS代码不要直接写在HTML里面混搭，尽量外链CSS和JS文件。</p>
    </li>
    <li>
        <p>CSS文件统一外链并放置在head标签内</p>
    </li>
    <li>
        <p>除JS框架文件(如：jquery.js、require.js)，其他JS文件统一放在页面底部(body闭合标签上面，如上代码)</p>
        <blockquote>
            如此规范，是出于页面性能方面的考虑，<b>若JS文件放在head里，可能会阻塞页面加载和渲染。</b>
        </blockquote>
    </li>
</ul>

<h2>图片文件</h2>
<ul>
    <li>
        <p>img标签必须有alt属性和值，值是对图片的正确描述，如：产品名称</p>
    </li>
    <li>img单标签必须用“/”封闭</li>
</ul>
<p><b>推荐：</b></p>
<pre>
&lt;img src="xxx.jpg" alt="图片名称" /&gt;
</pre>

<h2>标签闭合</h2>
<p>任何标签都必须有闭合</p>
<p><b>不推荐：</b></p>
<pre>
&lt;p&gt;balabalabala……
&lt;img src="xxx.jpg" alt="xxx"&gt;
</pre>
<p><b>推荐：</b></p>
<pre>
&lt;p&gt;balabalabala……&lt;/p&gt;
&lt;img src="xxx.jpg" alt="xxx"/&gt;
</pre>

<h2>标签嵌套</h2>
<ul>
    <li>
        <p>避免错误的嵌套</p>
        <p><b>严禁：</b></p>
<pre>
&lt;p&gt;
    &lt;span&gt;
        文字文字
    &lt;/p&gt;
&lt;/span&gt;
</pre>
        <p><b>推荐：</b></p>
<pre>
&lt;p&gt;
    &lt;span&gt;
        文字文字 
    &lt;/span&gt;
&lt;/p&lt;
</pre> 
    </li>
    <li>
        <p>避免行级元素内嵌套块级元素</p>
        <p><b>不推荐</b></p>
<pre>
    &lt;span&gt;
        &lt;div&gt;文字文字&lt;/div&gt;
    &lt;/span&gt;
    &lt;a href=""&gt;
        &lt;p&gt;文字文字&lt;/p&gt;
    &lt;/a&gt;
</pre>
        <p><b>推荐：</b></p>
<pre>
    &lt;span&gt;
        &lt;span&gt;文字文字&lt;/span&gt;
    &lt;/span&gt;
    &lt;a href=""&gt;
        &lt;span&gt;文字文字&lt;/span&gt;
    &lt;/a&gt;
</pre>
    </li>
    <li>
        <p>避免行级元素与块级元素在同一个DOM层级</p>
        <p><b>不推荐：</b></p>
<pre>
&lt;div class="mod_reg clearfix"&gt;
    &lt;span class="side_bar"&gt;float left&lt;/span&gt;
    &lt;div class="content"&gt;
        &lt;strong&gt;文字文字&lt;/strong&gt;
        &lt;p&gt;我也是文字&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>
        <p><b>推荐：</b></p>
<pre>
&lt;div class="mod_reg"&gt;
    &lt;div class="side_bar"&gt;float left&lt;/div&gt;
    &lt;div class="content"&gt;
        &lt;p&gt;文字文字&lt;/p&gt;
        &lt;p&gt;我也是文字&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>
    </li>
</ul>

<h2>表单元素</h2>
<p>为表单元素label加上for属性</p>
<p><b>不推荐：</b></p>
<pre>
&lt;input type="radio" name="color" value="0" /&gt;&lt;label&gt;选项1&lt;/label&gt;
&lt;input type="radio" name="color" value="1" /&gt;&lt;label&gt;选项2&lt;/label&gt;
</pre>
<p><b>推荐：</b></p>
<pre>
&lt;input type="radio" id="blue" name="color" value="0" /&gt;&lt;label for="blue"&gt;选项1&lt;/label&gt;
&lt;input type="radio" id="pink" name="color" value="1" /&gt;&lt;label for="pink"&gt;选项2&lt;/label&gt;
</pre>
<blockquote>
    for属性能让点击label标签的时候，同时focus到对应的 input 和 textarea上，增加响应区域
</blockquote>

<h2>HTML注释</h2>
<p>优秀的程序员会写一手漂亮的代码注释，不仅要让机器读懂你的语言，而且要让人能更容易的读懂你的语言</p>
<p>每一个模块都必须加上“开始-结尾”的注释，增强代码可读性，以防后端工程师套错页面</p>
<p><b>规则：</b></p>
<p>在模块开始标签之前加<code>&lt;--模块class名--&gt;</code></p>
<p>在模块结尾标签之后加<code>&lt;--/模块class名--&gt;</code></p>
<p>类似于HTML标签的语法形式，无需中文，只需要复制模块名字，达到区分模块头尾的目的即可</p>
<p><b>推荐</b></p>
<pre>
&lt;--mod_reg--&gt;
&lt;div class="mod_reg"&gt;
    &lt;div class="side_bar"&gt;float left&lt;/div&gt;
    &lt;div class="content"&gt;
        &lt;p&gt;文字文字&lt;/p&gt;
        &lt;p&gt;我也是文字&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;--/mod_reg--&gt;
</pre>

<h2>HTML代码其他细节</h2>
<ul>
    <li>标签必须小写</li>
    <li>标签上的属性值必须加双引号，必须有值</li>
    <li>标签必须有封口</li>
    <li>保持良好的HTML代码层级关系，子级的HTML空一个TAB键</li>
    <li>拒绝多div癖，多class癖</li>
    <li>每一对标签另起一行</li>
    <li>编写语义化的HTML(请参考HTML和CSS设计模式中语义化的章节)</li>
</ul>

<h2>语义化</h2>


<h1>CSS规范</h1>
<h2>CSS reset</h2>
<p>在开始CSS编码之前，有很多的CSS属性都必须被reset，避免浏览器出现各种兼容性问题。</p>
<p>推荐使用的CSS reset文件：</p>
<p><code>http://css2.pingan.com/app_css/g/base.css</code></p>
<h2>CSS文件编码</h2>
<p>统一使用<code>UTF-8</code>文件编码方式</p>

<h2>CSS文件引用</h2>

<ul>
    <li>一律使用link的方式调用外部样式</li>
    <li>不允许在页面中使用 <code>&lt;style&gt;</code> 块；</li>
    <li>不允许在 <code>&lt;style&gt;</code> 块中使用 <code>@import</code>；</li>
    <li>不允许使用 <code>style</code> 属性写行内样式。</li>
</ul>
<blockquote>一般情况下，在页面中只允许使用 <link /> 标签来引用CSS文件</blockquote>

<h2>CSS文件命名格式</h2>
<p>CSS文件命名用下划线做间隔</p>
<p>推荐命名要求：<strong>栏目/页面/活动名/类型+HTML页面名/CSS文件功能</strong></p>
<ul>
    <li>能描述实际意义的<b>英文单词</b></li>
    <li><b>首字符必须是英文字母，禁用其他符号或数字</b></li>
    <li><b>字母全部小写</b></li>
    <li>单词之间用<b>下划线</b>间隔</li>
    <li>命名要有实际意义，避免使用123，abc等无意义的名字，如test1.css, test2.css, abc.css</li>
</ul>
<p><b>推荐</b></p>
<p>例如两个注册的功能页，其中一个注册表单页，另外一个注册结果页，CSS文件分别命名成<code>register_form.css</code>和<code>register_result.css</code></p>
<p><b>不推荐</b></p>
<p><code>register_Form.css</code>，不推荐这种下划线与驼峰混搭的命名方式，因为加入驼峰并不会给我们代码带来什么好处，而且看起来并不那么fasion和简约</p>
<p><code>register1.css</code> <code>register2.css</code>，1和2不能表示实际意义，不便于后期的拓展性。如果到了下个版本，两个步骤中间再加一个注册步骤呢？再把<code>register2.css</code>改成<code>register3.css</code>，再新建一个<code>register2.css</code>吗？</p>

<h2>class命名规则</h2>
<ul>
    <li>能描述实际意义的<b>英文单词</b></li>
    <li><b>首字符必须是英文字母，禁用其他符号或数字</b></li>
    <li><b>字母全部小写</b></li>
    <li>单词之间用<b>下划线</b>间隔</li>
    <li>不允许使用拼音（约定俗成的除外，如：pingan, youku, baidu）,更不允许拼音和英文混搭(如：icon_tupian)</li>
    <li>命名要有实际意义，避免使用上下左右命名模块名称、颜色名称、数字123、abc等无意义的名字，如.test1, .test2, .abc,.ff6600,left_bar</li>
    <li>不依据表现形式来命名</li>
    <li>可根据内容来命名</li>
    <li>可根据功能来命名</li>
</ul>

<p><b>不推荐：</b></p>

<pre>left, right, center, red, black</pre>
<blockquote>如果某一天产品经理一拍脑袋，要求你把左边的内容换到右边，中间的换到左边，右边的换到中间，红色换成绿色，黑色换成白色，你是不是就傻了眼？你的class命名还有意义么？</blockquote>

<p><b>推荐：</b></p>

<pre>nav, aside, news, type, search</pre>
<blockquote>
<p><b>为什么是下划线class命名方式？</b></p>
<ol>
    <li>为了与JS变量名驼峰命名方式有所区别，故不选驼峰命名。</li>
    <li>
        <p>减号分隔符用在JS里可能会造成误解和差错</p>
<pre>
var sub = 1;
var nav = 2;
var $demo = $("sub-nav");
</pre>
        <p>以上javascript代码，如果JQ选择器忘记加引号会是什么结果呢？可想而知，不是我们想要的结果。</p>
    </li>
    <li>下划线命名有点好处是：在很多编辑器里双击即可选中，而中划线则无法达到</li>
</ol>
<p>我们使用中划线 “-” 作为连接字符，而不是下划线 "_"。</p>
<p>本guideline规定用<b>下划线</b>"_"命名间隔,而不是驼峰或中划线"-",各种命名方式都有很多支持者，你肯定有千百个反驳的理由，“规范”是没有绝对权威绝对好的，我们只选择最合适的，请不要花过多时间纠结于此。</p>
</blockquote>

<h2>class常用命名</h2>
<table>
    <tr>
        <th colspan="10">页面结构</th>
    </tr>
    <tr>
        <th>头</th>
        <th>尾</th>
        <th>侧栏</th>
        <th>页面主体</th>
        <th>栏</th>
        <th>内容</th>
        <th>容器</th>
        <th>布局</th>
        <th>模块</th>
        <th></th>
    </tr>
    <tr>
        <td>header</td>
        <td>footer</td>
        <td>sidebar</td>
        <td>main</td>
        <td>column/col</td>
        <td>content/cont</td>
        <td>container</td>
        <td>layout</td>
        <td>module/mod</td>
        <td></td>
    </tr>
    <tr>
        <th colspan="10">导航/菜单/模块</th>
    </tr>
    <tr>
        <th>导航</th>
        <th>主导航</th>
        <th>二级导航</th>
        <th>置顶导航</th>
        <th>侧边导航</th>
        <th>菜单/目录</th>
        <th>子菜单/二级菜单</th>
        <th>标题</th>
        <th>摘要</th>
        <th></th>
    </tr>
    <tr>
        <td>nav</td>
        <td>main_nav</td>
        <td>sub_nav</td>
        <td>top_nav</td>
        <td>side_nav</td>
        <td>menu</td>
        <td>sub_menu</td>
        <td>title</td>
        <td>summary</td>
        <td></td>
    </tr>
    <tr>
        <th colspan="10">功能</th>
    </tr>
    <tr>
        <th>标志</th>
        <th>一种广告</th>
        <th>登录</th>
        <th>注册</th>
        <th>搜索</th>
        <th>标题栏</th>
        <th>加入</th>
        <th>状态</th>
        <th>按钮</th>
        <th>滚动</th>
    </tr>
    <tr>
        <td>logo</td>
        <td>banner</td>
        <td>login</td>
        <td>regsiter/reg</td>
        <td>search</td>
        <td>title_bar</td>
        <td>join</td>
        <td>status</td>
        <td>btn</td>
        <td>scroll</td>
    </tr>
    <tr>
        <th>标签</th>
        <th>列表</th>
        <th>信息</th>
        <th>当前的</th>
        <th>提示</th>
        <th>图标</th>
        <th>记录</th>
        <th>详情</th>
        <th>标准</th>
        <th>服务</th>
    </tr>
    <tr>
        <td>tab</td>
        <td>list</td>
        <td>message/msg</td>
        <td>current/cur</td>
        <td>tips</td>
        <td>icon</td>
        <td>note</td>
        <td>detail</td>
        <td>guild</td>
        <td>service</td>
    </tr>
    <tr>
        <th>热点</th>
        <th>新消息</th>
        <th>下载</th>
        <th>投票</th>
        <th>搭档</th>
        <th>友链</th>
        <th>版权</th>
        <th>信息</th>
        <th></th>
        <th></th>
    </tr>
    <tr>
        <td>hot</td>
        <td>news</td>
        <td>download</td>
        <td>vote</td>
        <td>partner</td>
        <td>friend_links</td>
        <td>copyright</td>
        <td>info</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
    </tr>
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
    </tr>
</table>

<h2>class和ID使用规则</h2>

<p>CSS一般只用class，ID留给javascript来调用</p>

<h2>CSS编码格式</h2>
<ul>
    <li>每个选择器后的CSS代码不要换行</li>
    <li>分号后保持一个空格</li>
    <li>冒号后保持一个空格</li>
    <li>如有多个选择器，每个选择器占一行</li>
    <li>多选择器后的逗号不加空格</li>
</ul>
<p><b>不推荐：</b></p>
<pre>
h1,h2,h3,h4{font-weight:normal;}
.mod_detail{ 
    width:400px; 
    height:300px; 
}
.mod_detail .current,.mod_detail .news,.mod_detail .content{ color:#000; }
</pre>
<p><b>推荐：</b></p>
<pre>
h1,
h2,
h3,
h4{font-weight:normal;}
.mod_detail{width: 400px; height: 300px;}
.mod_detail .current,
.mod_detail .news,
.mod_detail .content{color:#000;}
</pre>

<h2>命名空间前缀</h2>
<table>
    <tr>
        <th>前缀</th>
        <th>说明</th>
        <th>示例</th>
    </tr>
    <tr>
        <td>mod_</td>
        <td>模块命名前缀</td>
        <td>mod_nav_bar</td>
    </tr>
    <tr>
        <td>cell_</td>
        <td>通用元件命名前缀</td>
        <td>cell_news_list</td>
    </tr>
    <tr>
        <td>plug_</td>
        <td>JS插件模块命名，一整套包含HTML、CSS、JS的功能块，最外层DOM请带上命名空间前缀plug</td>
        <td>plug_popup, plug_slider</td>
    </tr>
    <tr>
        <td>layout_</td>
        <td>页面布局框架命名前缀</td>
        <td>layout_col_a</td>
    </tr>
    <tr>
        <td>theme_</td>
        <td>网站主题样式class命名，适用于多主题类型网站,theme_主题名_拓展名</td>
        <td>theme_qq_bg, theme_qq_color</td>
    </tr>
    <tr>
        <td>js_</td>
        <td>特为JS调用的命名，可以用于ID和class,不涉及CSS样式</td>
        <td>js_reg_submit 或 jsRegSubmit</td>
    </tr>
</table>

<blockquote>
    模块化CSS代码，模块内所有元素必须继承自模块的最外层CSS命名空间，模块、元件、布局的命名必须拥有命名空间前缀.这样能有效的避免命名冲突，避免过多的全局class造成全局污染。
</blockquote>

<p><b>推荐：</b></p>
<pre>
.mod_detail .info { sRules; }
.mod_detail .current { sRules; }
.mod_detail .news { sRules; }
.mod_detail .content { sRules; }
</pre>

<p><b>不推荐：</b></p>
<pre>
.info { sRules; }
.current { sRules; }
.news { sRules; }
.content { sRules; }
</pre>

<h2>CSS文件注释</h2>
<div class="highlight">
<pre>
/**
    *@Description: 项目名称（可写中文）
    *@Author: xukai (建议用英文字母)
    *@Last Modify: xukai (2012-05-10)
*/
</pre>
</div>
<p>在CSS文件头部需要注明项目名称和说明、代码作者名、更新时间和作者名</p>
<h2>减少使用滤镜和表达式</h2>
<p>滤镜非常消耗性能，不推荐使用。</p>
<p>应该遵循一个原则：能用JS解决的问题不用CSS，能用CSS解决的问题不用JS。</p>
<p>CSS内嵌计算和表达式显然不是CSS擅长的事情，不建议写在CSS中，请尽量用JS的方式来解决。</p>
<h2>字体不要用中文来定义</h2>
<p>用英文字体名称。</p>
<p>例如：<code>font-family:'微软雅黑';</code> 不建议用这种写法，在长久的代码生命周期中，会造成不可预见的问题。比如某个同事某一天用了非UTF-8编码方式，中文可能是个乱码，更新CSS提交后就会造成BUG。</p>
<h2>每个class的CSS属性都写在一行</h2>
<p>以便于模块化的展现。</p>
<p>例如：</p>
<pre>
.mod_side_nav{float: left;margin-top: 20px;}
.mod_side_nav li{width: 200px; height: 20px;margin-bottom: 8px;}
.mod_side_nav li strong{font-size: 14px;}
.mod_side_nav a{font-size: 12px; line-height: 20px;display:block;padding-left: 10px;color: #999;border-left: 1px solid #FFF;}
.mod_side_nav a:hover{color: #333;border-left: 1px solid #F60;}
.mod_side_nav .sub_t{margin-left: 15px;}
</pre>
<p>如果每个属性换行，就是这样的：</p>
<div class="highlight">
<pre>
.mod_side_nav {float: left; margin-top: 20px;}
.mod_side_nav li {width: 200px; height: 20px; margin-bottom: 8px;}
.mod_side_nav li strong {font-size: 14px;}
.mod_side_nav a {font-size: 12px; line-height: 20px; display: block; padding-left: 10px; color: #999; border-left: 1px solid #FFF;}
.mod_side_nav a:hover {color: #333; border-left: 1px solid #F60;}
.mod_side_nav .sub_t {margin-left: 15px;}
</pre>
</div>
<p>这样代码的行数就会变的很多，比较难从纵向区分我们的模块化CSS代码。当然，我们会尊重你的个人习惯，如果你坚持觉得换行的写法比较舒服，那就多按回车键换行吧。</p>
<h2>CSS模块注释</h2>
<p>注释写在对应的模块上方，无换行。注释与上方的CSS模块空一行。</p>
<p><b>示例：</b></p>
<div class="highlight">
<pre>
/**
    @Name:模块名称
    @Level:级别(Global, Channel, Function)
    @Dependent:依赖关系,该模块必须依赖于何种模块
    @Sample:用法示例,或指出改模块所作用的直接页面
    @Explain:附加说明
    @Author:创建者 日期(两位数年月日时)
    @Last Modify:最终修改者 日期(两位数年月日时)
*/
.mod_side_nav{float: left;margin-top: 20px;}
.mod_side_nav li{width: 200px; height: 20px;margin-bottom: 8px;}
.mod_side_nav li strong{font-size: 14px;}
.mod_side_nav a{font-size: 12px; line-height: 20px;display:block;padding-left: 10px;color: #999;border-left: 1px solid #FFF;}
.mod_side_nav a:hover{color: #333;border-left: 1px solid #F60;}
.mod_side-nav .sub_t{margin-left: 15px;}
</pre>
</div>
<p><b>CSS定义的HTML模块是：</b></p>

<h2>CSS属性的书写顺序</h2>
<p>按照元素模型由外及内,由整体到细节书写,大致分为五组:</p>
<ol>
    <li>位置:position,left,right,float</li>
    <li>盒模型属性:display,margin,padding,width,height</li>
    <li>边框与背景:border,background</li>
    <li>段落与文本:line-height,text-indent,font,color,text-decoration,...</li>
    <li>其他属性:overflow,cursor,visibility,...</li>
</ol>
<p>之所以有这样的建议，一是为了统一书写代码的风格，二是能提升CSS渲染页面的效率（待考证）</p>

<h2>清浮动CSS</h2>
<p>对于IE浏览器使用<code>zoom:1</code>使盒子触发haslayout，可达到清浮动的目的。</p>
<p>对于非IE浏览器可以结合<code>:after</code>伪类达到清浮动的目的。</p>
<p><b>CSS代码：</b></p>
<pre>
.mod_demo{zoom:1;}
.mod_demo:after{display:block;clear:both;content:"";height:0;}
</pre>
<p><b>推荐的做法：</b></p>
<p>可以结合LESS或SASS预编译语言来编写干净的可维护性的CSS，在LESS里可以创建一个通用的mixin，如：</p> 
<pre>
.clearfix(){
    zoom:1;
    :after{display:block;clear:both;content:"";height:0;}
}
.mod_demo{
    .clearfix;
}
.mod_header{
    .clearfix;
}
.mod_footer{
    .clearfix;
}
</pre>
<p><b>不推荐做成公用类，将class赋值到HTML标签上，例如：</b></p>
<pre>
.clearfix{zoom:1;}
.clearfix:after{display:block; clear:both; content:""; height:0;}
</pre>
<pre>
&lt;div class="mod_reg clearfix"&gt;
    &lt;div class="side_bar"&gt;float left&lt;/div&gt;
    &lt;div class="content"&gt;float right&lt;/div&gt;
&lt;/div&gt;
</pre>
<p>更不推荐在HTML中添加空标签来清浮动，糟糕的做法：</p>
<pre>
.clear{clear:both;}
</pre>
<pre>
&lt;div class="mod_reg"&gt;
    &lt;div class="side_bar"&gt;float left&lt;/div&gt;
    &lt;div class="content"&gt;float right&lt;/div&gt;
    &lt;div class="clear">&lt;/div&gt;
&lt;/div&gt;
</pre>
<p>这样会“污染”HTML，给HTML添加无意义的空标签。</p>

<h2>CSS hack</h2>
<ul>
    <li>尽量不好使用hack，另可换一种方法来实现</li>
    <li>如果hack费用不可，请用一种比较靠谱的hack</li>
</ul>
<blockquote>
    使用hack，向后兼容性比较差，hack可能会被浏览器更新版本后修复
</blockquote>

<p><b>常用CSS hack：</b></p>

<pre>
.test {
　　　color: #000;       /* 所有浏览器 */
　　　color: #111\9;     /* 所有IE */
　　　color: #222\0;     /* IE8 及以上版本, 非Webkit内核的Opera */
　　　color: #333\9\0;   /* IE8 及以上版本 */
　　　color: #444\0/;    /* IE8 及以上版本 */
　　　*color: #666;      /* IE7和IE6 */
　　　_color: #777;      /* IE6 */
}
</pre>

<p><b>IE条件注释：</b></p>
<pre>
&lt;!--[if IE]&gt;用于 IE &lt;![endif]--&gt;
&lt;!--[if IE 6]&gt;用于 IE6 &lt;![endif]--&gt;
&lt;!--[if IE 7]&gt;用于 IE7 &lt;![endif]--&gt;
&lt;!--[if IE 8]&gt;用于 IE8 &lt;![endif]--&gt;
&lt;!--[if IE 9]&gt;用于 IE9 &lt;![endif]--&gt;
&lt;!--[if gt IE 6]&gt;用于 IE6 以上版本&lt;![endif]--&gt;
&lt;!--[if lte IE 7]&gt;用于 IE7或更低版本 &lt;![endif]--&gt;
&lt;!--[if gte IE 8]&gt;用于 IE8 或更高版本 &lt;![endif]--&gt;
&lt;!--[if lt IE 9]&gt;用于 IE9 以下版本&lt;![endif]--&gt;
&lt;!--[if !IE]&gt; --&gt;用于非 IE &lt;!-- &lt;![endif]--&gt;
</pre>
<ul>
    <li>lt ：就是Less than的简写，也就是小于的意思。</li>
    <li>lte ：就是Less than or equal to的简写，也就是小于或等于的意思。</li>
    <li>gt ：就是Greater than的简写，也就是大于的意思。</li>
    <li>gte：就是Greater than or equal to的简写，也就是大于或等于的意思。</li>
    <li>!：就是不等于的意思，跟javascript里的不等于判断符相同。</li>
</ul>

<h2>合理使用CSS选择器</h2>
<p><b>避免使用标签+class/ID类型的选择器</b></p>
<p><b>避免画蛇添足：</b></p>
<pre>
.mod_news div.hot{color: #F00;}
.mod_news li#list{color: #F00}
</pre>
<p><b>推荐化繁为简：</b></p>
<pre>
.mod_news .hot{color: #F00;}
.mod_news #list{color: #F00}  //规范规定CSS不要用ID命名，这里只是做个示例
</pre>

<p><b>避免选择器嵌套层级过深，建议控制在三层以内</b></p>

<p><b>不推荐：</b></p>
<pre>.mod_news .content .box .list .tips{color: #F00}</pre>

<p><b>推荐：</b></p>
<pre>.mod_news .content .tips{color: #F00}</pre>

<h2>属性缩写与拆分</h2>
<p><b>不推荐：</b></p>
<pre>
.mod_news{margin-left: 10px; margin-right: 20px; margin-bottom: 30px; margin-left: 40px;
</pre>
<p><b>推荐</b></p>
<pre>
.mod_news{margin:10px 20px 30px 40px;}
</pre>
<p><b>不推荐：</b></p>
<pre>
.mod_news{border-width: 1px; border-style: solid; border-color: #000 #000 #F60;}
</pre>
<p><b>推荐：</b></p>
<pre>
.mod_news{border: 1px solid #000; border-bottom-color: #F60;}
</pre>

<h2>背景图片</h2>
<h3>小图标必须合并</h3>
<p>通过CSS Sprite的方法将小图片合并成一张大背景图，减少HTTP请求数达到性能优化的目的，建议你使用工程化的方法，FIS工程化中自带的小图片自动合并优化功能，将为你减少很多工作量，给后期维护也带来许多方便。</p>
<h3>图片格式选择与优化</h3>
<ul>
    <li>色彩丰富的图片使用JPG格式，用photoshop输出，压缩比设置60-70%左右，保持不明显影响视觉效果为准</li>
    <li>色彩不丰富的图片，优先使用PNG8格式。</li>
    <li>除非是gif动画图片，请尽量少使用gif格式。</li>
    <li>对于使用到半透明滤镜的图片才使用PNG24格式，但要注意IE6的兼容性</li>
    <li>合并后图片大小不宜超过50K，建议大小在20K-50K之间</li>
</ul>

<h2>编后语</h2>
<p>少说话，多做事，才能保持团队工作的高效。少说话——意思是减少无必要的沟通成本，就需要团队成员之间形成更多默契，默契就从每位工程师遵守一致的规范而来。无需沟通就很熟悉他人的代码编写习惯，就像是自己写的，不至于看到不喜欢的代码而反感和抗拒。遵守一致的规范，可有效减少沟通成本，提升代码质量，提升可维护性。编写规范、整洁、漂亮代码是我们一致的目标。</p>

<h1>javascript规范</h1>

<h2>
<a id="user-content-类型" class="anchor" href="#%E7%B1%BB%E5%9E%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>类型</h2>

<ul>
<li>
<p><strong>原始值</strong>: 当你使用一个变量的原始值，赋值到新变量时</p>

<ul>
<li><code>string字符串</code></li>
<li><code>number数字型</code></li>
<li><code>boolean布尔型</code></li>
<li><code>null空值</code></li>
<li><code>undefined不存在型</code></li>
</ul>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> foo <span class="pl-k">=</span> <span class="pl-c1">1</span>;
<span class="pl-k">var</span> bar <span class="pl-k">=</span> foo;

bar <span class="pl-k">=</span> <span class="pl-c1">9</span>;

<span class="pl-en">console</span><span class="pl-c1">.log</span>(foo, bar); <span class="pl-c">// =&gt; 1, 9</span></pre></div>
</li>
<li>
<p><strong>复杂类型</strong>: 当你把一个数组赋值到新变量上并改变数组内成员的值</p>

<ul>
<li><code>object对象</code></li>
<li><code>array数组</code></li>
<li><code>function函数</code></li>
</ul>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> foo <span class="pl-k">=</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>];
<span class="pl-k">var</span> bar <span class="pl-k">=</span> foo;

bar[<span class="pl-c1">0</span>] <span class="pl-k">=</span> <span class="pl-c1">9</span>;

<span class="pl-en">console</span><span class="pl-c1">.log</span>(foo[<span class="pl-c1">0</span>], bar[<span class="pl-c1">0</span>]); <span class="pl-c">// =&gt; 9, 9</span></pre></div>
</li>
</ul>

<h2>
<a id="user-content-对象" class="anchor" href="#%E5%AF%B9%E8%B1%A1" aria-hidden="true"><span class="octicon octicon-link"></span></a>对象</h2>

<ul>
<li>
<p>使用字面量的方法创建对象</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> item <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Object</span>();

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> item <span class="pl-k">=</span> {};</pre></div>
</li>
<li>
<p>不要使用 <a href="http://es5.github.io/#x7.6.1">javascript保留关键字</a>作为key值. IE8不支持. <a href="https://github.com/airbnb/javascript/issues/61">更多参考信息</a>.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> superman <span class="pl-k">=</span> {
  <span class="pl-k">default</span><span class="pl-k">:</span> { clark<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>kent<span class="pl-pds">'</span></span> },
  private<span class="pl-k">:</span> <span class="pl-c1">true</span>
};

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> superman <span class="pl-k">=</span> {
  defaults<span class="pl-k">:</span> { clark<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>kent<span class="pl-pds">'</span></span> },
  hidden<span class="pl-k">:</span> <span class="pl-c1">true</span>
};</pre></div>
</li>
<li>
<p>使用意义接近的单词替代保留关键字</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> superman <span class="pl-k">=</span> {
  class<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>alien<span class="pl-pds">'</span></span>
};

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> superman <span class="pl-k">=</span> {
  klass<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>alien<span class="pl-pds">'</span></span>
};

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> superman <span class="pl-k">=</span> {
  type<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>alien<span class="pl-pds">'</span></span>
};</pre></div>
</li>
</ul>

<h2>
<a id="user-content-数组" class="anchor" href="#%E6%95%B0%E7%BB%84" aria-hidden="true"><span class="octicon octicon-link"></span></a>数组</h2>

<ul>
<li>
<p>使用字面量的方法创建对象</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> items <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Array</span>();

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> items <span class="pl-k">=</span> [];</pre></div>
</li>
<li>
<p>使用数组对象中push的方法替代直接增加数组成员的方法</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> someStack <span class="pl-k">=</span> [];


<span class="pl-c">// 不推荐</span>
someStack[someStack.<span class="pl-c1">length</span>] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>abracadabra<span class="pl-pds">'</span></span>;

<span class="pl-c">// 推荐</span>
someStack.<span class="pl-c1">push</span>(<span class="pl-s"><span class="pl-pds">'</span>abracadabra<span class="pl-pds">'</span></span>);</pre></div>
</li>
<li>
<p>当你需要复制一个数组时请使用slice方法 <a href="http://jsperf.com/converting-arguments-to-an-array/7">参考</a></p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> len <span class="pl-k">=</span> items.<span class="pl-c1">length</span>;
<span class="pl-k">var</span> itemsCopy <span class="pl-k">=</span> [];
<span class="pl-k">var</span> i;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">for</span> (i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> len; i<span class="pl-k">++</span>) {
  itemsCopy[i] <span class="pl-k">=</span> items[i];
}

<span class="pl-c">// 推荐</span>
itemsCopy <span class="pl-k">=</span> items.<span class="pl-c1">slice</span>();</pre></div>
</li>
<li>
<p>使用slice方法将类似数组一样的对象转换成数组</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">trigger</span>() {
  <span class="pl-k">var</span> args <span class="pl-k">=</span> <span class="pl-c1">Array</span>.<span class="pl-c1">prototype</span>.slice.<span class="pl-c1">call</span>(arguments);
  ...
}</pre></div>
</li>
</ul>

<h2>
<a id="user-content-字符串" class="anchor" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2" aria-hidden="true"><span class="octicon octicon-link"></span></a>字符串</h2>

<ul>
<li>
<p>用单引号 <code>''</code> 创建字符串.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Bob Parr<span class="pl-pds">"</span></span>;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Bob Parr<span class="pl-pds">'</span></span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> fullName <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Bob <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.lastName;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> fullName <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Bob <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.lastName;</pre></div>
</li>
<li><p>建议字符长度超过80的字符串，拆分成小于80长度的字符串，使用字符串拼接的方法拼接</p></li>
<li>
<p>提示: 如果大量使用长字符串拼接，会对性能造成影响 <a href="http://jsperf.com/ya-string-concat">jsPerf</a> &amp; <a href="https://github.com/airbnb/javascript/issues/40">Discussion</a>.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> errorMessage <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>This is a super long error that was thrown because of Batman. When you stop to think about how Batman had anything to do with this, you would get nowhere fast.<span class="pl-pds">'</span></span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> errorMessage <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>This is a super long error that was thrown because \</span>
<span class="pl-s">of Batman. When you stop to think about how Batman had anything to do \</span>
<span class="pl-s">with this, you would get nowhere \</span>
<span class="pl-s">fast.<span class="pl-pds">'</span></span>;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> errorMessage <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>This is a super long error that was thrown because <span class="pl-pds">'</span></span> <span class="pl-k">+</span>
  <span class="pl-s"><span class="pl-pds">'</span>of Batman. When you stop to think about how Batman had anything to do <span class="pl-pds">'</span></span> <span class="pl-k">+</span>
  <span class="pl-s"><span class="pl-pds">'</span>with this, you would get nowhere fast.<span class="pl-pds">'</span></span>;</pre></div>
</li>
<li>
<p>建议通过使用join方法来连接字符串，而不要直接将字符串拼接，特别是在IE下性能比较低: <a href="http://jsperf.com/string-vs-array-concat/2">jsPerf</a>.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> items;
<span class="pl-k">var</span> messages;
<span class="pl-k">var</span> length;
<span class="pl-k">var</span> i;

messages <span class="pl-k">=</span> [{
  state<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>,
  message<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>This one worked.<span class="pl-pds">'</span></span>
}, {
  state<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>,
  message<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>This one worked as well.<span class="pl-pds">'</span></span>
}, {
  state<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>error<span class="pl-pds">'</span></span>,
  message<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>This one did not work.<span class="pl-pds">'</span></span>
}];

length <span class="pl-k">=</span> messages.<span class="pl-c1">length</span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span> <span class="pl-en">inbox</span>(<span class="pl-smi">messages</span>) {
  items <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;ul&gt;<span class="pl-pds">'</span></span>;

  <span class="pl-k">for</span> (i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> length; i<span class="pl-k">++</span>) {
    items <span class="pl-k">+=</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;li&gt;<span class="pl-pds">'</span></span> <span class="pl-k">+</span> messages[i].message <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;/li&gt;<span class="pl-pds">'</span></span>;
  }

  <span class="pl-k">return</span> items <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;/ul&gt;<span class="pl-pds">'</span></span>;
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span> <span class="pl-en">inbox</span>(<span class="pl-smi">messages</span>) {
  items <span class="pl-k">=</span> [];

  <span class="pl-k">for</span> (i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> length; i<span class="pl-k">++</span>) {
    items[i] <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;li&gt;<span class="pl-pds">'</span></span> <span class="pl-k">+</span> messages[i].message <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;/li&gt;<span class="pl-pds">'</span></span>;
  }

  <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;ul&gt;<span class="pl-pds">'</span></span> <span class="pl-k">+</span> items.<span class="pl-c1">join</span>(<span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>&lt;/ul&gt;<span class="pl-pds">'</span></span>;
}</pre></div>
</li>
</ul>

<h2>
<a id="user-content-函数" class="anchor" href="#%E5%87%BD%E6%95%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>函数</h2>

<ul>
<li>
<p>函数表达式:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 匿名函数表达式</span>
<span class="pl-k">var</span> <span class="pl-en">anonymous</span> <span class="pl-k">=</span> <span class="pl-k">function</span>() {
  <span class="pl-k">return</span> <span class="pl-c1">true</span>;
};

<span class="pl-c">// 有名函数表达式</span>
<span class="pl-k">var</span> <span class="pl-en">named</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">named</span>() {
  <span class="pl-k">return</span> <span class="pl-c1">true</span>;
};

<span class="pl-c">// 自调用函数表达式</span>
(<span class="pl-k">function</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>Welcome to the Internet. Please follow me.<span class="pl-pds">'</span></span>);
})();</pre></div>
</li>
<li><p>绝对不要在非函数内直接定义一个函数，建议你将定义的函数赋给一个变量，虽然两种做法都可行，但在浏览器里解析是不一样的。</p></li>
<li>
<p><strong>注意:</strong> ECMA-262 定义 <code>块</code> 型代码为一组一句. 函数声明不是一个语句. <a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf#page=97">Read ECMA-262's note on this issue</a>.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">if</span> (currentUser) {
  <span class="pl-k">function</span> <span class="pl-en">test</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>Nope.<span class="pl-pds">'</span></span>);
  }
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> test;
<span class="pl-k">if</span> (currentUser) {
  <span class="pl-en">test</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">test</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>Yup.<span class="pl-pds">'</span></span>);
  };
}</pre></div>
</li>
<li>
<p>绝对不要将参数命名为 <code>arguments</code>，在作用域内的其他函数传参会有问题</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span> <span class="pl-en">nope</span>(<span class="pl-smi">name</span>, <span class="pl-smi">options</span>, <span class="pl-smi">arguments</span>) {
  <span class="pl-c">// ...stuff...</span>
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span> <span class="pl-en">yup</span>(<span class="pl-smi">name</span>, <span class="pl-smi">options</span>, <span class="pl-smi">args</span>) {
  <span class="pl-c">// ...stuff...</span>
}</pre></div>
</li>
</ul>

<h2>
<a id="user-content-对象的属性" class="anchor" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7" aria-hidden="true"><span class="octicon octicon-link"></span></a>对象的属性</h2>

<ul>
<li>
<p>使用 <code>.</code> 表示法来访问对象的成员.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> luke <span class="pl-k">=</span> {
  jedi<span class="pl-k">:</span> <span class="pl-c1">true</span>,
  age<span class="pl-k">:</span> <span class="pl-c1">28</span>
};

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> isJedi <span class="pl-k">=</span> luke[<span class="pl-s"><span class="pl-pds">'</span>jedi<span class="pl-pds">'</span></span>];

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> isJedi <span class="pl-k">=</span> luke.jedi;</pre></div>
</li>
<li>
<p>当对象的键是参数变量的时候，请使用 <code>[]</code>的表示法访问对象的成员</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> luke <span class="pl-k">=</span> {
  jedi<span class="pl-k">:</span> <span class="pl-c1">true</span>,
  age<span class="pl-k">:</span> <span class="pl-c1">28</span>
};

<span class="pl-k">function</span> <span class="pl-en">getProp</span>(<span class="pl-smi">prop</span>) {
  <span class="pl-k">return</span> luke[prop];
}

<span class="pl-k">var</span> isJedi <span class="pl-k">=</span> getProp(<span class="pl-s"><span class="pl-pds">'</span>jedi<span class="pl-pds">'</span></span>);</pre></div>
</li>
</ul>

<h2>
<a id="user-content-变量" class="anchor" href="#%E5%8F%98%E9%87%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>变量</h2>

<ul>
<li>
<p>一定要使用 <code>var</code> 来声明变量.否则会导致全局变量污染.应该避免这样对全局命名空间污染.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
superPower <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">SuperPower</span>();

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> superPower <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">SuperPower</span>();</pre></div>
</li>
<li>
<p>使用一个 <code>var</code> 只声明一个变量, 你绝对不用担心把 逗号<code>,</code>和分号<code>;</code>张冠李戴了.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> items <span class="pl-k">=</span> getItems(),
    goSportsTeam <span class="pl-k">=</span> <span class="pl-c1">true</span>,
    dragonball <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>z<span class="pl-pds">'</span></span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-c">// (比较上面的代码，范了个错误)</span>
<span class="pl-k">var</span> items <span class="pl-k">=</span> getItems(),
    goSportsTeam <span class="pl-k">=</span> <span class="pl-c1">true</span>;
    dragonball <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>z<span class="pl-pds">'</span></span>;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> items <span class="pl-k">=</span> getItems();
<span class="pl-k">var</span> goSportsTeam <span class="pl-k">=</span> <span class="pl-c1">true</span>;
<span class="pl-k">var</span> dragonball <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>z<span class="pl-pds">'</span></span>;</pre></div>
</li>
<li>
<p>将未赋值的变量放在末尾，当需要用到前面已赋值变量就会很有帮助。</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> i, len, dragonball,
    items <span class="pl-k">=</span> getItems(),
    goSportsTeam <span class="pl-k">=</span> <span class="pl-c1">true</span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> i;
<span class="pl-k">var</span> items <span class="pl-k">=</span> getItems();
<span class="pl-k">var</span> dragonball;
<span class="pl-k">var</span> goSportsTeam <span class="pl-k">=</span> <span class="pl-c1">true</span>;
<span class="pl-k">var</span> len;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> items <span class="pl-k">=</span> getItems();
<span class="pl-k">var</span> goSportsTeam <span class="pl-k">=</span> <span class="pl-c1">true</span>;
<span class="pl-k">var</span> dragonball;
<span class="pl-k">var</span> length;
<span class="pl-k">var</span> i;</pre></div>
</li>
<li>
<p>把变量声明在它的作用域顶部，有助于避免变量声明和赋值产生相关问题。</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span>() {
  <span class="pl-c1">test</span>();
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>doing stuff..<span class="pl-pds">'</span></span>);

  <span class="pl-c">//..other stuff..</span>

  <span class="pl-k">var</span> name <span class="pl-k">=</span> getName();

  <span class="pl-k">if</span> (name <span class="pl-k">===</span> <span class="pl-s"><span class="pl-pds">'</span>test<span class="pl-pds">'</span></span>) {
    <span class="pl-k">return</span> <span class="pl-c1">false</span>;
  }

  <span class="pl-k">return</span> name;
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> name <span class="pl-k">=</span> getName();

  <span class="pl-c1">test</span>();
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>doing stuff..<span class="pl-pds">'</span></span>);

  <span class="pl-c">//..other stuff..</span>

  <span class="pl-k">if</span> (name <span class="pl-k">===</span> <span class="pl-s"><span class="pl-pds">'</span>test<span class="pl-pds">'</span></span>) {
    <span class="pl-k">return</span> <span class="pl-c1">false</span>;
  }

  <span class="pl-k">return</span> name;
}

<span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> name <span class="pl-k">=</span> getName();

  <span class="pl-k">if</span> (<span class="pl-k">!</span>arguments.<span class="pl-c1">length</span>) {
    <span class="pl-k">return</span> <span class="pl-c1">false</span>;
  }

  <span class="pl-k">return</span> <span class="pl-c1">true</span>;
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span>() {
  <span class="pl-k">if</span> (<span class="pl-k">!</span>arguments.<span class="pl-c1">length</span>) {
    <span class="pl-k">return</span> <span class="pl-c1">false</span>;
  }

  <span class="pl-k">var</span> name <span class="pl-k">=</span> getName();

  <span class="pl-k">return</span> <span class="pl-c1">true</span>;
}</pre></div>
</li>
</ul>

<h2>
<a id="user-content-hoisting" class="anchor" href="#hoisting" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hoisting</h2>

<ul>
<li>
<p>Variable declarations get hoisted to the top of their scope, their assignment does not.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// we know this wouldn't work (assuming there</span>
<span class="pl-c">// is no notDefined global variable)</span>
<span class="pl-k">function</span> <span class="pl-en">example</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(notDefined); <span class="pl-c">// =&gt; throws a ReferenceError</span>
}

<span class="pl-c">// creating a variable declaration after you</span>
<span class="pl-c">// reference the variable will work due to</span>
<span class="pl-c">// variable hoisting. Note: the assignment</span>
<span class="pl-c">// value of `true` is not hoisted.</span>
<span class="pl-k">function</span> <span class="pl-en">example</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(declaredButNotAssigned); <span class="pl-c">// =&gt; undefined</span>
  <span class="pl-k">var</span> declaredButNotAssigned <span class="pl-k">=</span> <span class="pl-c1">true</span>;
}

<span class="pl-c">// The interpreter is hoisting the variable</span>
<span class="pl-c">// declaration to the top of the scope,</span>
<span class="pl-c">// which means our example could be rewritten as:</span>
<span class="pl-k">function</span> <span class="pl-en">example</span>() {
  <span class="pl-k">var</span> declaredButNotAssigned;
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(declaredButNotAssigned); <span class="pl-c">// =&gt; undefined</span>
  declaredButNotAssigned <span class="pl-k">=</span> <span class="pl-c1">true</span>;
}</pre></div>
</li>
<li>
<p>Anonymous function expressions hoist their variable name, but not the function assignment.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">example</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(anonymous); <span class="pl-c">// =&gt; undefined</span>

  anonymous(); <span class="pl-c">// =&gt; TypeError anonymous is not a function</span>

  <span class="pl-k">var</span> <span class="pl-en">anonymous</span> <span class="pl-k">=</span> <span class="pl-k">function</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>anonymous function expression<span class="pl-pds">'</span></span>);
  };
}</pre></div>
</li>
<li>
<p>Named function expressions hoist the variable name, not the function name or the function body.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">example</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(named); <span class="pl-c">// =&gt; undefined</span>

  named(); <span class="pl-c">// =&gt; TypeError named is not a function</span>

  superPower(); <span class="pl-c">// =&gt; ReferenceError superPower is not defined</span>

  <span class="pl-k">var</span> <span class="pl-en">named</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">superPower</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>Flying<span class="pl-pds">'</span></span>);
  };
}

<span class="pl-c">// the same is true when the function name</span>
<span class="pl-c">// is the same as the variable name.</span>
<span class="pl-k">function</span> <span class="pl-en">example</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(named); <span class="pl-c">// =&gt; undefined</span>

  named(); <span class="pl-c">// =&gt; TypeError named is not a function</span>

  <span class="pl-k">var</span> <span class="pl-en">named</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">named</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>named<span class="pl-pds">'</span></span>);
  }
}</pre></div>
</li>
<li>
<p>Function declarations hoist their name and the function body.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">example</span>() {
  superPower(); <span class="pl-c">// =&gt; Flying</span>

  <span class="pl-k">function</span> <span class="pl-en">superPower</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>Flying<span class="pl-pds">'</span></span>);
  }
}</pre></div>
</li>
<li><p>For more information refer to <a href="http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting">JavaScript Scoping &amp; Hoisting</a> by <a href="http://www.adequatelygood.com/">Ben Cherry</a>.</p></li>
</ul>

<h2>
<a id="user-content-条件语句和等号运算符" class="anchor" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E5%92%8C%E7%AD%89%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6" aria-hidden="true"><span class="octicon octicon-link"></span></a>条件语句和等号运算符</h2>

<ul>
<li>合理使用 <code>===</code> 和 <code>!==</code> 以及 <code>==</code> 和 <code>!=</code>.</li>
<li>
<p>条件表达式的强制类型转换遵循以下规则：</p>

<ul>
<li>
<strong>对象</strong> 被计算为 <strong>true</strong>
</li>
<li>
<strong>Undefined</strong> 被计算为 <strong>false</strong>
</li>
<li>
<strong>Null</strong> 被计算为 <strong>false</strong>
</li>
<li>
<strong>布尔值</strong> 被计算为 <strong>布尔的值</strong>
</li>
<li>
<strong>数字</strong> 如果是 <strong>+0, -0, or NaN</strong> 被计算为 <strong>false</strong> , 否则为 <strong>true</strong>
</li>
<li>
<strong>字符串</strong> 如果是空字符串 <code>''</code> 则被计算为 <strong>false</strong>, 否则为 <strong>true</strong>
</li>
</ul>

<div class="highlight highlight-javascript"><pre><span class="pl-k">if</span> ([<span class="pl-c1">0</span>]) {
  <span class="pl-c">// 返回true</span>
  <span class="pl-c">// 数组就是一个对象, 对象的返回值是true</span>
}</pre></div>
</li>
<li>
<p>使用快捷写法.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">if</span> (name <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>) {
  <span class="pl-c">// ...stuff...</span>
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">if</span> (name) {
  <span class="pl-c">// ...stuff...</span>
}

<span class="pl-c">// 不推荐</span>
<span class="pl-k">if</span> (collection.<span class="pl-c1">length</span> <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>) {
  <span class="pl-c">// ...stuff...</span>
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">if</span> (collection.<span class="pl-c1">length</span>) {
  <span class="pl-c">// ...stuff...</span>
}</pre></div>
</li>
<li><p>请参考更多资料 <a href="http://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/#more-2108">Truth Equality and JavaScript</a></p></li>
</ul>

<h2>
<a id="user-content-代码块" class="anchor" href="#%E4%BB%A3%E7%A0%81%E5%9D%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>代码块</h2>

<ul>
<li>
<p>多行代码块用大括号.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">if</span> (test)
  <span class="pl-k">return</span> <span class="pl-c1">false</span>;

<span class="pl-c">// 推荐</span>
<span class="pl-k">if</span> (test) <span class="pl-k">return</span> <span class="pl-c1">false</span>;

<span class="pl-c">// 推荐</span>
<span class="pl-k">if</span> (test) {
  <span class="pl-k">return</span> <span class="pl-c1">false</span>;
}

<span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span>() { <span class="pl-k">return</span> <span class="pl-c1">false</span>; }

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span>() {
  <span class="pl-k">return</span> <span class="pl-c1">false</span>;
}</pre></div>
</li>
<li><p>If you're using multi-line blocks with <code>if</code> and <code>else</code>, put <code>else</code> on the same line as your
<code>if</code> block's closing brace.</p></li>
<li>
<p>当你代码中使用了 <code>if</code> 和 <code>else</code>语句，请把else放在if语句封口大括号的同一行.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">if</span> (test) {
  thing1();
  thing2();
}
<span class="pl-k">else</span> {
  thing3();
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">if</span> (test) {
  thing1();
  thing2();
} <span class="pl-k">else</span> {
  thing3();
}</pre></div>
</li>
</ul>

<h2>
<a id="user-content-注释" class="anchor" href="#%E6%B3%A8%E9%87%8A" aria-hidden="true"><span class="octicon octicon-link"></span></a>注释</h2>

<ul>
<li>
<p>使用 <code>/** ... */</code> 写多行注释. I包括描述，指定类型以及所有的参数值和返回值.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-c">// make() returns a new element</span>
<span class="pl-c">// based on the passed in tag name</span>
<span class="pl-c">//</span>
<span class="pl-c">// @param {String} tag</span>
<span class="pl-c">// @return {Element} element</span>
<span class="pl-k">function</span> <span class="pl-en">make</span>(<span class="pl-smi">tag</span>) {

  <span class="pl-c">// ...stuff...</span>

  <span class="pl-k">return</span> element;
}

<span class="pl-c">// 推荐</span>
<span class="pl-c">/**</span>
<span class="pl-c"> * make() returns a new element</span>
<span class="pl-c"> * based on the passed in tag name</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * @param {String} tag</span>
<span class="pl-c"> * @return {Element} element</span>
<span class="pl-c"> */</span>
<span class="pl-k">function</span> <span class="pl-en">make</span>(<span class="pl-smi">tag</span>) {

  <span class="pl-c">// ...stuff...</span>

  <span class="pl-k">return</span> element;
}</pre></div>
</li>
<li>
<p>使用 <code>//</code> 写简单的单行注释. 单独占一行，写在需要评论的对象上面，注释和代码块前后空一行.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> active <span class="pl-k">=</span> <span class="pl-c1">true</span>;  <span class="pl-c">// 当前的TAB</span>

<span class="pl-c">// 推荐</span>
<span class="pl-c">// 当前的TAB</span>
<span class="pl-k">var</span> active <span class="pl-k">=</span> <span class="pl-c1">true</span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span> <span class="pl-en">getType</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>fetching type...<span class="pl-pds">'</span></span>);
  <span class="pl-c">// set the default type to 'no type'</span>
  <span class="pl-k">var</span> type <span class="pl-k">=</span> <span class="pl-v">this</span>._type <span class="pl-k">||</span> <span class="pl-s"><span class="pl-pds">'</span>no type<span class="pl-pds">'</span></span>;

  <span class="pl-k">return</span> type;
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span> <span class="pl-en">getType</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>fetching type...<span class="pl-pds">'</span></span>);

  <span class="pl-c">// set the default type to 'no type'</span>
  <span class="pl-k">var</span> type <span class="pl-k">=</span> <span class="pl-v">this</span>._type <span class="pl-k">||</span> <span class="pl-s"><span class="pl-pds">'</span>no type<span class="pl-pds">'</span></span>;

  <span class="pl-k">return</span> type;
}</pre></div>
</li>
<li><p>Prefixing your comments with <code>FIXME</code> or <code>TODO</code> helps other developers quickly understand if you're pointing out a problem that needs to be revisited, or if you're suggesting a solution to the problem that needs to be implemented. These are different than regular comments because they are actionable. The actions are <code>FIXME -- need to figure this out</code> or <code>TODO -- need to implement</code>.</p></li>
<li><p>如果你有一个问题需要重新来看一下或如果你建议一个需要被实现的解决方法的话需要在你的注释前面加上 <code>FIXME</code> 或 <code>TODO</code> 帮助其他人迅速理解</p></li>
<li>
<p>使用 <code>// FIXME:</code> 来注释问题.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">Calculator</span>() {

  <span class="pl-c">// FIXME: 这里不能使用全局变量</span>
  total <span class="pl-k">=</span> <span class="pl-c1">0</span>;

  <span class="pl-k">return</span> <span class="pl-v">this</span>;
}</pre></div>
</li>
<li>
<p>使用 <code>// TODO:</code> 注释问题的解决方法.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">Calculator</span>() {

  <span class="pl-c">// TODO: total should be configurable by an options param</span>
  <span class="pl-v">this</span>.total <span class="pl-k">=</span> <span class="pl-c1">0</span>;

  <span class="pl-k">return</span> <span class="pl-v">this</span>;
}</pre></div>
</li>
</ul>

<h2>
<a id="user-content-空格" class="anchor" href="#%E7%A9%BA%E6%A0%BC" aria-hidden="true"><span class="octicon octicon-link"></span></a>空格</h2>

<ul>
<li>
<p>设置TAB贱为2个空格.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span>() {
∙∙∙∙<span class="pl-k">var</span> name;
}

<span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span>() {
∙<span class="pl-k">var</span> name;
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span>() {
∙∙<span class="pl-k">var</span> name;
}</pre></div>
</li>
<li>
<p>大括号前加个空格.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span> <span class="pl-en">test</span>(){
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>test<span class="pl-pds">'</span></span>);
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span> <span class="pl-en">test</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>test<span class="pl-pds">'</span></span>);
}

<span class="pl-c">// 不推荐</span>
dog.set(<span class="pl-s"><span class="pl-pds">'</span>attr<span class="pl-pds">'</span></span>,{
  age<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>1 year<span class="pl-pds">'</span></span>,
  breed<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bernese Mountain Dog<span class="pl-pds">'</span></span>
});

<span class="pl-c">// 推荐</span>
dog.set(<span class="pl-s"><span class="pl-pds">'</span>attr<span class="pl-pds">'</span></span>, {
  age<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>1 year<span class="pl-pds">'</span></span>,
  breed<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bernese Mountain Dog<span class="pl-pds">'</span></span>
});</pre></div>
</li>
<li><p>Place 1 space before the opening parenthesis in control statements (<code>if</code>, <code>while</code> etc.). Place no space before the argument list in function calls and declarations.</p></li>
<li><div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">if</span>(isJedi) {
  fight ();
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">if</span> (isJedi) {
  fight();
}

<span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span> <span class="pl-en">fight</span> () {
  <span class="pl-en">console</span><span class="pl-c1">.log</span> (<span class="pl-s"><span class="pl-pds">'</span>Swooosh!<span class="pl-pds">'</span></span>);
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span> <span class="pl-en">fight</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>Swooosh!<span class="pl-pds">'</span></span>);
}</pre></div></li>
<li>
<p>Set off operators with spaces.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> x<span class="pl-k">=</span>y<span class="pl-k">+</span><span class="pl-c1">5</span>;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> x <span class="pl-k">=</span> y <span class="pl-k">+</span> <span class="pl-c1">5</span>;</pre></div>

<ul>
<li>语句的末尾添加回车换行符</li>
</ul>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
(<span class="pl-k">function</span>(<span class="pl-smi">global</span>) {
  <span class="pl-c">// ...stuff...</span>
})(<span class="pl-v">this</span>);</pre></div>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
(<span class="pl-k">function</span>(<span class="pl-smi">global</span>) {
  <span class="pl-c">// ...stuff...</span>
})(<span class="pl-v">this</span>);↵
↵</pre></div>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 推荐</span>
(<span class="pl-k">function</span>(<span class="pl-smi">global</span>) {
  <span class="pl-c">// ...stuff...</span>
})(<span class="pl-v">this</span>);↵</pre></div>
</li>
<li>
<p>写JQuery长方法链，每个方法占一行，代码要缩进保持良好可读性和美观.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
$(<span class="pl-s"><span class="pl-pds">'</span>#items<span class="pl-pds">'</span></span>).<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>.selected<span class="pl-pds">'</span></span>).highlight().end().<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>.open<span class="pl-pds">'</span></span>).updateCount();

<span class="pl-c">// 不推荐</span>
$(<span class="pl-s"><span class="pl-pds">'</span>#items<span class="pl-pds">'</span></span>).
  <span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>.selected<span class="pl-pds">'</span></span>).
    highlight().
    end().
  <span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>.open<span class="pl-pds">'</span></span>).
    updateCount();

<span class="pl-c">// 推荐</span>
$(<span class="pl-s"><span class="pl-pds">'</span>#items<span class="pl-pds">'</span></span>)
  .<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>.selected<span class="pl-pds">'</span></span>)
    .highlight()
    .end()
  .<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>.open<span class="pl-pds">'</span></span>)
    .updateCount();

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> leds <span class="pl-k">=</span> stage.selectAll(<span class="pl-s"><span class="pl-pds">'</span>.led<span class="pl-pds">'</span></span>).<span class="pl-c1">data</span>(data).enter().append(<span class="pl-s"><span class="pl-pds">'</span>svg:svg<span class="pl-pds">'</span></span>).classed(<span class="pl-s"><span class="pl-pds">'</span>led<span class="pl-pds">'</span></span>, <span class="pl-c1">true</span>)
    .attr(<span class="pl-s"><span class="pl-pds">'</span>width<span class="pl-pds">'</span></span>,  (radius <span class="pl-k">+</span> margin) <span class="pl-k">*</span> <span class="pl-c1">2</span>).append(<span class="pl-s"><span class="pl-pds">'</span>svg:g<span class="pl-pds">'</span></span>)
    .attr(<span class="pl-s"><span class="pl-pds">'</span>transform<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>translate(<span class="pl-pds">'</span></span> <span class="pl-k">+</span> (radius <span class="pl-k">+</span> margin) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>,<span class="pl-pds">'</span></span> <span class="pl-k">+</span> (radius <span class="pl-k">+</span> margin) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>)<span class="pl-pds">'</span></span>)
    .<span class="pl-c1">call</span>(tron.led);

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> leds <span class="pl-k">=</span> stage.selectAll(<span class="pl-s"><span class="pl-pds">'</span>.led<span class="pl-pds">'</span></span>)
    .<span class="pl-c1">data</span>(data)
  .enter().append(<span class="pl-s"><span class="pl-pds">'</span>svg:svg<span class="pl-pds">'</span></span>)
    .classed(<span class="pl-s"><span class="pl-pds">'</span>led<span class="pl-pds">'</span></span>, <span class="pl-c1">true</span>)
    .attr(<span class="pl-s"><span class="pl-pds">'</span>width<span class="pl-pds">'</span></span>,  (radius <span class="pl-k">+</span> margin) <span class="pl-k">*</span> <span class="pl-c1">2</span>)
  .append(<span class="pl-s"><span class="pl-pds">'</span>svg:g<span class="pl-pds">'</span></span>)
    .attr(<span class="pl-s"><span class="pl-pds">'</span>transform<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>translate(<span class="pl-pds">'</span></span> <span class="pl-k">+</span> (radius <span class="pl-k">+</span> margin) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>,<span class="pl-pds">'</span></span> <span class="pl-k">+</span> (radius <span class="pl-k">+</span> margin) <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>)<span class="pl-pds">'</span></span>)
    .<span class="pl-c1">call</span>(tron.led);</pre></div>
</li>
<li>
<p>在代码块后面，表达式前面，单独空一行</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">if</span> (foo) {
  <span class="pl-k">return</span> bar;
}
<span class="pl-k">return</span> baz;

<span class="pl-c">// 推荐</span>
<span class="pl-k">if</span> (foo) {
  <span class="pl-k">return</span> bar;
}

<span class="pl-k">return</span> baz;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> obj <span class="pl-k">=</span> {
  <span class="pl-en">foo</span>: <span class="pl-k">function</span>() {
  },
  <span class="pl-en">bar</span>: <span class="pl-k">function</span>() {
  }
};
<span class="pl-k">return</span> obj;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> obj <span class="pl-k">=</span> {
  <span class="pl-en">foo</span>: <span class="pl-k">function</span>() {
  },

  <span class="pl-en">bar</span>: <span class="pl-k">function</span>() {
  }
};

<span class="pl-k">return</span> obj;</pre></div>
</li>
</ul>

<h2>
<a id="user-content-逗号" class="anchor" href="#%E9%80%97%E5%8F%B7" aria-hidden="true"><span class="octicon octicon-link"></span></a>逗号</h2>

<ul>
<li>
<p>不要将逗号放在最前</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> story <span class="pl-k">=</span> [
    once
  , upon
  , aTime
];

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> story <span class="pl-k">=</span> [
  once,
  upon,
  aTime
];

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> hero <span class="pl-k">=</span> {
    firstName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>
  , lastName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Parr<span class="pl-pds">'</span></span>
  , heroName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Mr. Incredible<span class="pl-pds">'</span></span>
  , superPower<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>strength<span class="pl-pds">'</span></span>
};

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> hero <span class="pl-k">=</span> {
  firstName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bob<span class="pl-pds">'</span></span>,
  lastName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Parr<span class="pl-pds">'</span></span>,
  heroName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Mr. Incredible<span class="pl-pds">'</span></span>,
  superPower<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>strength<span class="pl-pds">'</span></span>
};</pre></div>
</li>
<li>
<p>Additional trailing comma: <strong>Nope.</strong> This can cause problems with IE6/7 and IE9 if it's in quirksmode. Also, in some implementations of ES3 would add length to an array if it had an additional trailing comma. This was clarified in ES5 (<a href="http://es5.github.io/#D">source</a>):</p>

<blockquote>
<p>Edition 5 clarifies the fact that a trailing comma at the end of an ArrayInitialiser does not add to the length of the array. This is not a semantic change from Edition 3 but some implementations may have previously misinterpreted this.</p>
</blockquote>
</li>
<li>
<p>不要加多余的逗号，这可能会在IE下引起错误，同时如果多一个逗号某些ES3的实现会计算多数组的长度。</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> hero <span class="pl-k">=</span> {
  firstName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Kevin<span class="pl-pds">'</span></span>,
  lastName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Flynn<span class="pl-pds">'</span></span>,
};

<span class="pl-k">var</span> heroes <span class="pl-k">=</span> [
  <span class="pl-s"><span class="pl-pds">'</span>Batman<span class="pl-pds">'</span></span>,
  <span class="pl-s"><span class="pl-pds">'</span>Superman<span class="pl-pds">'</span></span>,
];

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> hero <span class="pl-k">=</span> {
  firstName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Kevin<span class="pl-pds">'</span></span>,
  lastName<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Flynn<span class="pl-pds">'</span></span>
};

<span class="pl-k">var</span> heroes <span class="pl-k">=</span> [
  <span class="pl-s"><span class="pl-pds">'</span>Batman<span class="pl-pds">'</span></span>,
  <span class="pl-s"><span class="pl-pds">'</span>Superman<span class="pl-pds">'</span></span>
];</pre></div>
</li>
</ul>

<h2>
<a id="user-content-分号" class="anchor" href="#%E5%88%86%E5%8F%B7" aria-hidden="true"><span class="octicon octicon-link"></span></a>分号</h2>

<ul>
<li>
<p>语句末尾一定要加分号</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
(<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Skywalker<span class="pl-pds">'</span></span>
  <span class="pl-k">return</span> name
})()

<span class="pl-c">// 推荐</span>
(<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Skywalker<span class="pl-pds">'</span></span>;
  <span class="pl-k">return</span> name;
})();

<span class="pl-c">// 推荐 (guards against the function becoming an argument when two files with IIFEs are concatenated)</span>
;(<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Skywalker<span class="pl-pds">'</span></span>;
  <span class="pl-k">return</span> name;
})();</pre></div>

<p><a href="http://stackoverflow.com/a/7365214/1712802">Read more</a>.</p>
</li>
</ul>

<h2>
<a id="user-content-类型转换" class="anchor" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2" aria-hidden="true"><span class="octicon octicon-link"></span></a>类型转换</h2>

<ul>
<li>在语句的开始执行类型转换.</li>
<li>
<p>字符串:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">//  =&gt; this.reviewScore = 9;</span>

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> totalScore <span class="pl-k">=</span> <span class="pl-v">this</span>.reviewScore <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> totalScore <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.reviewScore;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> totalScore <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.reviewScore <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> total score<span class="pl-pds">'</span></span>;

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> totalScore <span class="pl-k">=</span> <span class="pl-v">this</span>.reviewScore <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span> total score<span class="pl-pds">'</span></span>;</pre></div>
</li>
<li>
<p>对数字使用 <code>parseInt</code> 并且总是带上类型转换的进制数.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> inputValue <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>4<span class="pl-pds">'</span></span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> val <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Number</span>(inputValue);

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> val <span class="pl-k">=</span> <span class="pl-k">+</span>inputValue;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> val <span class="pl-k">=</span> inputValue <span class="pl-k">&gt;&gt;</span> <span class="pl-c1">0</span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> val <span class="pl-k">=</span> <span class="pl-c1">parseInt</span>(inputValue);

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> val <span class="pl-k">=</span> <span class="pl-c1">Number</span>(inputValue);

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> val <span class="pl-k">=</span> <span class="pl-c1">parseInt</span>(inputValue, <span class="pl-c1">10</span>);</pre></div>
</li>
<li>
<p>If for whatever reason you are doing something wild and <code>parseInt</code> is your bottleneck and need to use Bitshift for <a href="http://jsperf.com/coercion-vs-casting/3">performance reasons</a>, leave a comment explaining why and what you're doing.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 推荐</span>
<span class="pl-c">/**</span>
<span class="pl-c"> * parseInt was the reason my code was slow.</span>
<span class="pl-c"> * Bitshifting the String to coerce it to a</span>
<span class="pl-c"> * Number made it a lot faster.</span>
<span class="pl-c"> */</span>
<span class="pl-k">var</span> val <span class="pl-k">=</span> inputValue <span class="pl-k">&gt;&gt;</span> <span class="pl-c1">0</span>;</pre></div>
</li>
<li>
<p><strong>Note:</strong> Be careful when using bitshift operations. Numbers are represented as <a href="http://es5.github.io/#x4.3.19">64-bit values</a>, but Bitshift operations always return a 32-bit integer (<a href="http://es5.github.io/#x11.7">source</a>). Bitshift can lead to unexpected behavior for integer values larger than 32 bits. <a href="https://github.com/airbnb/javascript/issues/109">Discussion</a>. Largest signed 32-bit Int is 2,147,483,647:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c1">2147483647</span> <span class="pl-k">&gt;&gt;</span> <span class="pl-c1">0</span> <span class="pl-c">//=&gt; 2147483647</span>
<span class="pl-c1">2147483648</span> <span class="pl-k">&gt;&gt;</span> <span class="pl-c1">0</span> <span class="pl-c">//=&gt; -2147483648</span>
<span class="pl-c1">2147483649</span> <span class="pl-k">&gt;&gt;</span> <span class="pl-c1">0</span> <span class="pl-c">//=&gt; -2147483647</span></pre></div>
</li>
<li>
<p>布尔值:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> age <span class="pl-k">=</span> <span class="pl-c1">0</span>;

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> hasAge <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Boolean</span>(age);

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> hasAge <span class="pl-k">=</span> <span class="pl-c1">Boolean</span>(age);

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> hasAge <span class="pl-k">=</span> <span class="pl-k">!!</span>age;</pre></div>
</li>
</ul>

<h2>
<a id="user-content-命名约定" class="anchor" href="#%E5%91%BD%E5%90%8D%E7%BA%A6%E5%AE%9A" aria-hidden="true"><span class="octicon octicon-link"></span></a>命名约定</h2>

<ul>
<li>
<p>避免无意义的单个字母，要求有语义化的命名.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span> <span class="pl-en">q</span>() {
  <span class="pl-c">// ...stuff...</span>
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span> <span class="pl-en">query</span>() {
  <span class="pl-c">// ..stuff..</span>
}</pre></div>
</li>
<li>
<p>当命名对象、函数和实例时，使用驼峰命名法，且命名在上下文中有实际意义，增强代码可读性.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> OBJEcttsssss <span class="pl-k">=</span> {};
<span class="pl-k">var</span> this_is_my_object <span class="pl-k">=</span> {};
<span class="pl-k">function</span> <span class="pl-en">c</span>() {}
<span class="pl-k">var</span> u <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">user</span>({
  name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bob Parr<span class="pl-pds">'</span></span>
});

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> thisIsMyObject <span class="pl-k">=</span> {};
<span class="pl-k">function</span> <span class="pl-en">thisIsMyFunction</span>() {}
<span class="pl-k">var</span> user <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">User</span>({
  name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>Bob Parr<span class="pl-pds">'</span></span>
});</pre></div>
</li>
<li>
<p>当命名构造函数时，使用驼峰式命名，且首字母大写</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span> <span class="pl-en">user</span>(<span class="pl-smi">options</span>) {
  <span class="pl-v">this</span>.<span class="pl-c1">name</span> <span class="pl-k">=</span> options.<span class="pl-c1">name</span>;
}

<span class="pl-k">var</span> bad <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">user</span>({
  name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>nope<span class="pl-pds">'</span></span>
});

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span> <span class="pl-en">User</span>(<span class="pl-smi">options</span>) {
  <span class="pl-v">this</span>.<span class="pl-c1">name</span> <span class="pl-k">=</span> options.<span class="pl-c1">name</span>;
}

<span class="pl-k">var</span> good <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">User</span>({
  name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>yup<span class="pl-pds">'</span></span>
});</pre></div>
</li>
<li>
<ul>
<li>私有属性命名，名称前加下划线 <code>_</code> .</li>
</ul>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-v">this</span>.__firstName__ <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Panda<span class="pl-pds">'</span></span>;
<span class="pl-v">this</span>.firstName_ <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Panda<span class="pl-pds">'</span></span>;

<span class="pl-c">// 推荐</span>
<span class="pl-v">this</span>._firstName <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>Panda<span class="pl-pds">'</span></span>;</pre></div>
</li>
<li>
<p>当<code>this</code>需要传值的时候，使用名称 <code>_this</code>，好有意义！</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> self <span class="pl-k">=</span> <span class="pl-v">this</span>;
  <span class="pl-k">return</span> <span class="pl-k">function</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(self);
  };
}

<span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> that <span class="pl-k">=</span> <span class="pl-v">this</span>;
  <span class="pl-k">return</span> <span class="pl-k">function</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(that);
  };
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span>() {
  <span class="pl-k">var</span> _this <span class="pl-k">=</span> <span class="pl-v">this</span>;
  <span class="pl-k">return</span> <span class="pl-k">function</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(_this);
  };
}</pre></div>
</li>
<li>
<p>给每个函数命名，避免匿名函数. 这样有助于在控制台调试和跟踪.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> <span class="pl-en">log</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">msg</span>) {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(msg);
};

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> <span class="pl-en">log</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">logText</span>(<span class="pl-smi">msg</span>) {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(msg);
};</pre></div>
</li>
<li><p><strong>Note:</strong> IE8 and below exhibit some quirks with named function expressions.  See <a href="http://kangax.github.io/nfe/">http://kangax.github.io/nfe/</a> for more info.</p></li>
<li>
<p>保持引用的文件名与接口名称一致。</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// file contents</span>
<span class="pl-k">class</span> <span class="pl-en">CheckBox</span> {
  <span class="pl-c">// ...</span>
}
<span class="pl-c1">module</span>.exports <span class="pl-k">=</span> CheckBox;

<span class="pl-c">// in some other file</span>
<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> CheckBox <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./checkBox<span class="pl-pds">'</span></span>);

<span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> CheckBox <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./check_box<span class="pl-pds">'</span></span>);

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> CheckBox <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>./CheckBox<span class="pl-pds">'</span></span>);</pre></div>
</li>
</ul>

<h2>
<a id="user-content-存取器" class="anchor" href="#%E5%AD%98%E5%8F%96%E5%99%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>存取器</h2>

<ul>
<li>属性的存取器函数不是必需的.</li>
<li>If you do make accessor functions use getVal() and setVal('hello').</li>
<li>
<p>如果你需要创建存取器请把他们命名为getVal() and setVal('hello').使用get和set单词，<code>get+什么</code>，<code>set+什么</code>方式命名.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
dragon.age();

<span class="pl-c">// 推荐</span>
dragon.getAge();

<span class="pl-c">// 不推荐</span>
dragon.age(<span class="pl-c1">25</span>);

<span class="pl-c">// 推荐</span>
dragon.setAge(<span class="pl-c1">25</span>);</pre></div>
</li>
<li>
<p>如果属性是一个布尔值，请命名为isVal() 或 hasVal().使用is和has单词，<code>get+什么</code>，<code>set+什么</code>方式命名.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">if</span> (<span class="pl-k">!</span>dragon.age()) {
  <span class="pl-k">return</span> <span class="pl-c1">false</span>;
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">if</span> (<span class="pl-k">!</span>dragon.hasAge()) {
  <span class="pl-k">return</span> <span class="pl-c1">false</span>;
}</pre></div>
</li>
<li>
<p>可以创建get()和set()函数，但是要保持一致.</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">Jedi</span>(<span class="pl-smi">options</span>) {
  options <span class="pl-k">||</span> (options <span class="pl-k">=</span> {});
  <span class="pl-k">var</span> lightsaber <span class="pl-k">=</span> options.lightsaber <span class="pl-k">||</span> <span class="pl-s"><span class="pl-pds">'</span>blue<span class="pl-pds">'</span></span>;
  <span class="pl-v">this</span>.set(<span class="pl-s"><span class="pl-pds">'</span>lightsaber<span class="pl-pds">'</span></span>, lightsaber);
}

<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">set</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">key</span>, <span class="pl-smi">val</span>) {
  <span class="pl-v">this</span>[key] <span class="pl-k">=</span> val;
};

<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">get</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">key</span>) {
  <span class="pl-k">return</span> <span class="pl-v">this</span>[key];
};</pre></div>
</li>
</ul>

<h2>
<a id="user-content-构造器" class="anchor" href="#%E6%9E%84%E9%80%A0%E5%99%A8" aria-hidden="true"><span class="octicon octicon-link"></span></a>构造器</h2>

<ul>
<li>
<p>Assign methods to the prototype object, instead of overwriting the prototype with a new object. Overwriting the prototype makes inheritance impossible: by resetting the prototype you'll overwrite the base!</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">Jedi</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>new jedi<span class="pl-pds">'</span></span>);
}

<span class="pl-c">// 不推荐</span>
<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span> <span class="pl-k">=</span> {
  <span class="pl-en">fight</span>: <span class="pl-k">function</span> <span class="pl-en">fight</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>fighting<span class="pl-pds">'</span></span>);
  },

  <span class="pl-en">block</span>: <span class="pl-k">function</span> <span class="pl-en">block</span>() {
    <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>blocking<span class="pl-pds">'</span></span>);
  }
};

<span class="pl-c">// 推荐</span>
<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">fight</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">fight</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>fighting<span class="pl-pds">'</span></span>);
};

<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">block</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">block</span>() {
  <span class="pl-en">console</span><span class="pl-c1">.log</span>(<span class="pl-s"><span class="pl-pds">'</span>blocking<span class="pl-pds">'</span></span>);
};</pre></div>
</li>
<li>
<p>方法可以返回 <code>this</code> 帮助方法可链。</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">jump</span> <span class="pl-k">=</span> <span class="pl-k">function</span>() {
  <span class="pl-v">this</span>.jumping <span class="pl-k">=</span> <span class="pl-c1">true</span>;
  <span class="pl-k">return</span> <span class="pl-c1">true</span>;
};

<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">setHeight</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">height</span>) {
  <span class="pl-v">this</span>.<span class="pl-c1">height</span> <span class="pl-k">=</span> height;
};

<span class="pl-k">var</span> luke <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Jedi</span>();
luke.jump(); <span class="pl-c">// =&gt; true</span>
luke.setHeight(<span class="pl-c1">20</span>); <span class="pl-c">// =&gt; undefined</span>

<span class="pl-c">// 推荐</span>
<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">jump</span> <span class="pl-k">=</span> <span class="pl-k">function</span>() {
  <span class="pl-v">this</span>.jumping <span class="pl-k">=</span> <span class="pl-c1">true</span>;
  <span class="pl-k">return</span> <span class="pl-v">this</span>;
};

<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">setHeight</span> <span class="pl-k">=</span> <span class="pl-k">function</span>(<span class="pl-smi">height</span>) {
  <span class="pl-v">this</span>.<span class="pl-c1">height</span> <span class="pl-k">=</span> height;
  <span class="pl-k">return</span> <span class="pl-v">this</span>;
};

<span class="pl-k">var</span> luke <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Jedi</span>();

luke.jump()
  .setHeight(<span class="pl-c1">20</span>);</pre></div>
</li>
<li>
<p>可以写一个与JS语言自带的同名toString()方法，但是确保它工作正常并且不会有副作用，比如让它继承在某个对象下面。</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">function</span> <span class="pl-en">Jedi</span>(<span class="pl-smi">options</span>) {
  options <span class="pl-k">||</span> (options <span class="pl-k">=</span> {});
  <span class="pl-v">this</span>.<span class="pl-c1">name</span> <span class="pl-k">=</span> options.<span class="pl-c1">name</span> <span class="pl-k">||</span> <span class="pl-s"><span class="pl-pds">'</span>no name<span class="pl-pds">'</span></span>;
}

<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">getName</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">getName</span>() {
  <span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-c1">name</span>;
};

<span class="pl-c1">Jedi</span>.<span class="pl-c1">prototype</span>.<span class="pl-en">toString</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">toString</span>() {
  <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">'</span>Jedi - <span class="pl-pds">'</span></span> <span class="pl-k">+</span> <span class="pl-v">this</span>.getName();
};</pre></div>
</li>
</ul>

<h2>
<a id="user-content-事件" class="anchor" href="#%E4%BA%8B%E4%BB%B6" aria-hidden="true"><span class="octicon octicon-link"></span></a>事件</h2>

<ul>
<li>When attaching data payloads to events (whether DOM events or something more proprietary like Backbone events), pass a hash instead of a raw value. This allows a subsequent contributor to add more data to the event payload without finding and updating every handler for the event. For example, instead of:</li>
<li>
<ul>
<li>当给事件附加数据时，传入一个哈希而不是原始值，这可以让后面的贡献者加入更多数据到事件数据里而不用找出并更新那个事件的事件处理器</li>
</ul>

<div class="highlight highlight-js"><pre><span class="pl-c">// 不推荐</span>
$(<span class="pl-v">this</span>).trigger(<span class="pl-s"><span class="pl-pds">'</span>listingUpdated<span class="pl-pds">'</span></span>, listing.<span class="pl-c1">id</span>);

...

$(<span class="pl-v">this</span>).on(<span class="pl-s"><span class="pl-pds">'</span>listingUpdated<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>, <span class="pl-smi">listingId</span>) {
  <span class="pl-c">// do something with listingId</span>
});</pre></div>

<p>prefer:</p>

<div class="highlight highlight-js"><pre><span class="pl-c">// 推荐</span>
$(<span class="pl-v">this</span>).trigger(<span class="pl-s"><span class="pl-pds">'</span>listingUpdated<span class="pl-pds">'</span></span>, { listingId <span class="pl-k">:</span> listing.<span class="pl-c1">id</span> });

...

$(<span class="pl-v">this</span>).on(<span class="pl-s"><span class="pl-pds">'</span>listingUpdated<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>, <span class="pl-smi">data</span>) {
  <span class="pl-c">// do something with data.listingId</span>
});</pre></div>
</li>
</ul>

<h2>
<a id="user-content-模块" class="anchor" href="#%E6%A8%A1%E5%9D%97" aria-hidden="true"><span class="octicon octicon-link"></span></a>模块</h2>

<ul>
<li>模块应该以 <code>!</code> 开始，这保证了如果一个有问题的模块忘记包含最后的分号在合并后不会出现错误</li>
<li>这个文件应该以驼峰命名，并在同名文件夹下，同时导出的时候名字一致</li>
<li>加入一个名为noConflict()的方法来设置导出的模块为之前的版本并返回它</li>
<li>
<p>总是在模块顶部声明 <code>'use strict';</code></p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// fancyInput/fancyInput.js</span>

<span class="pl-k">!</span><span class="pl-k">function</span>(<span class="pl-smi">global</span>) {
  <span class="pl-s"><span class="pl-pds">'</span>use strict<span class="pl-pds">'</span></span>;

  <span class="pl-k">var</span> previousFancyInput <span class="pl-k">=</span> <span class="pl-c1">global</span>.FancyInput;

  <span class="pl-k">function</span> <span class="pl-en">FancyInput</span>(<span class="pl-smi">options</span>) {
    <span class="pl-v">this</span>.<span class="pl-c1">options</span> <span class="pl-k">=</span> options <span class="pl-k">||</span> {};
  }

  <span class="pl-c1">FancyInput</span>.<span class="pl-en">noConflict</span> <span class="pl-k">=</span> <span class="pl-k">function</span> <span class="pl-en">noConflict</span>() {
    <span class="pl-c1">global</span>.FancyInput <span class="pl-k">=</span> previousFancyInput;
    <span class="pl-k">return</span> FancyInput;
  };

  <span class="pl-c1">global</span>.FancyInput <span class="pl-k">=</span> FancyInput;
}(<span class="pl-v">this</span>);</pre></div>
</li>
</ul>

<h2>
<a id="user-content-jquery" class="anchor" href="#jquery" aria-hidden="true"><span class="octicon octicon-link"></span></a>jQuery</h2>

<ul>
<li>
<p>JQuery对象使用<code>$</code>做为变量前缀</p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">var</span> sidebar <span class="pl-k">=</span> $(<span class="pl-s"><span class="pl-pds">'</span>.sidebar<span class="pl-pds">'</span></span>);

<span class="pl-c">// 推荐</span>
<span class="pl-k">var</span> $sidebar <span class="pl-k">=</span> $(<span class="pl-s"><span class="pl-pds">'</span>.sidebar<span class="pl-pds">'</span></span>);</pre></div>

<ul>
<li>缓存Jquery查询的对象到一个变量中.</li>
</ul>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
<span class="pl-k">function</span> <span class="pl-en">setSidebar</span>() {
  $(<span class="pl-s"><span class="pl-pds">'</span>.sidebar<span class="pl-pds">'</span></span>).hide();

  <span class="pl-c">// ...stuff...</span>

  $(<span class="pl-s"><span class="pl-pds">'</span>.sidebar<span class="pl-pds">'</span></span>).css({
    <span class="pl-s"><span class="pl-pds">'</span>background-color<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>pink<span class="pl-pds">'</span></span>
  });
}

<span class="pl-c">// 推荐</span>
<span class="pl-k">function</span> <span class="pl-en">setSidebar</span>() {
  <span class="pl-k">var</span> $sidebar <span class="pl-k">=</span> $(<span class="pl-s"><span class="pl-pds">'</span>.sidebar<span class="pl-pds">'</span></span>);
  $sidebar.hide();

  <span class="pl-c">// ...stuff...</span>

  $sidebar.css({
    <span class="pl-s"><span class="pl-pds">'</span>background-color<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>pink<span class="pl-pds">'</span></span>
  });
}</pre></div>
</li>
<li><p>For DOM queries use Cascading <code>$('.sidebar ul')</code> or parent &gt; child <code>$('.sidebar &gt; ul')</code>. <a href="http://jsperf.com/jquery-find-vs-context-sel/16">jsPerf</a></p></li>
<li>Use <code>find</code> with scoped jQuery object queries.</li>
<li>对DOM查询使用级联的 <code>$('.sidebar ul')</code> 或 <code>$('.sidebar ul')</code>，<a href="http://jsperf.com/jquery-find-vs-context-sel/16">jsPerf</a>
</li>
<li>
<p>对有作用域的jQuery对象查询使用 <code>find</code></p>

<div class="highlight highlight-javascript"><pre><span class="pl-c">// 不推荐</span>
$(<span class="pl-s"><span class="pl-pds">'</span>ul<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>.sidebar<span class="pl-pds">'</span></span>).hide();

<span class="pl-c">// 不推荐</span>
$(<span class="pl-s"><span class="pl-pds">'</span>.sidebar<span class="pl-pds">'</span></span>).<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>ul<span class="pl-pds">'</span></span>).hide();

<span class="pl-c">// 推荐</span>
$(<span class="pl-s"><span class="pl-pds">'</span>.sidebar ul<span class="pl-pds">'</span></span>).hide();

<span class="pl-c">// 推荐</span>
$(<span class="pl-s"><span class="pl-pds">'</span>.sidebar &gt; ul<span class="pl-pds">'</span></span>).hide();

<span class="pl-c">// 推荐</span>
$sidebar.<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">'</span>ul<span class="pl-pds">'</span></span>).hide();</pre></div>
</li>
</ul>

<h2>
<a id="user-content-ecmascript-5-compatibility" class="anchor" href="#ecmascript-5-compatibility" aria-hidden="true"><span class="octicon octicon-link"></span></a>ECMAScript 5 Compatibility</h2>

<ul>
<li>Refer to <a href="https://twitter.com/kangax/">Kangax</a>'s ES5 <a href="http://kangax.github.com/es5-compat-table/">compatibility table</a>.</li>
</ul>


<h2>
<a id="user-content-性能" class="anchor" href="#%E6%80%A7%E8%83%BD" aria-hidden="true"><span class="octicon octicon-link"></span></a>性能</h2>

<ul>
<li><a href="http://kellegous.com/j/2013/01/26/layout-performance/">On Layout &amp; Web Performance</a></li>
<li><a href="http://jsperf.com/string-vs-array-concat/2">String vs Array Concat</a></li>
<li><a href="http://jsperf.com/try-catch-in-loop-cost">Try/Catch Cost In a Loop</a></li>
<li><a href="http://jsperf.com/bang-function">Bang Function</a></li>
<li><a href="http://jsperf.com/jquery-find-vs-context-sel/13">jQuery Find vs Context, Selector</a></li>
<li><a href="http://jsperf.com/innerhtml-vs-textcontent-for-script-text">innerHTML vs textContent for script text</a></li>
<li><a href="http://jsperf.com/ya-string-concat">Long String Concatenation</a></li>
<li>Loading...</li>
</ul>





            </article>
        </div>
    </div>
    <script src='/markdown/js/jquery-1.10.2.min.js'></script>
    <script src='/markdown/js/jquery.ztree.all-3.5.min.js'></script>
    <script src='/markdown/js/jquery.ztree_toc.min.js'></script>
    <script type="text/javascript">
    $(document).ready(function() {
        $('#tree').ztree_toc({
            is_auto_number: true,
            documment_selector: '.markdown-body'
        });
    });
    </script>
</body>
</html>